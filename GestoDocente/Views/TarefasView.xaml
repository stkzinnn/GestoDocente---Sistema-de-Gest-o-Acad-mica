<Window x:Class="GestoDocente.Views.TarefasView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:GestoDocente.ViewModels"
        Title="Gestão de Tarefas"
        Height="550" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#FAFAFA"
        FontFamily="Segoe UI"
        Opacity="0">

    <Window.DataContext>
        <vm:TarefasViewModel />
    </Window.DataContext>

    <!-- Fade-in -->
    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard>
                <Storyboard>
                    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                     From="0" To="1" Duration="0:0:0.4"
                                     AccelerationRatio="0.2" DecelerationRatio="0.8"/>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </Window.Triggers>

    <DockPanel Margin="20">

        <!-- Título -->
        <TextBlock Text="📋 Gestão de Tarefas"
                   FontSize="24"
                   FontWeight="Bold"
                   Foreground="#2C3E50"
                   Margin="0 0 0 20"
                   DockPanel.Dock="Top" />

        <!-- Botões -->
        <StackPanel Orientation="Horizontal"
                    DockPanel.Dock="Top"
                    HorizontalAlignment="Right"
                    Margin="0 0 0 10">

            <Button Content="➕ Adicionar"
                    Command="{Binding AdicionarCommand}"
                    Style="{StaticResource ModernButton}"
                    Margin="5" Width="120"/>

            <Button Content="✏️ Editar"
                    Command="{Binding EditarCommand}"
                    Style="{StaticResource ModernButton}"
                    Margin="5" Width="120"/>

            <Button Content="🗑️ Remover"
                    Command="{Binding RemoverCommand}"
                    Style="{StaticResource CancelButton}"
                    Margin="5" Width="120"/>

            <Button Content="🔙 Voltar"
                    Click="VoltarAoMenu_Click"
                    Style="{StaticResource CancelButton}"
                    Margin="5" Width="120"/>
        </StackPanel>

        <!-- Tabela -->
        <Border BorderBrush="#D5D8DC"
                BorderThickness="1"
                CornerRadius="8"
                Padding="5"
                Background="White">

            <DataGrid ItemsSource="{Binding Tarefas}"
                      SelectedItem="{Binding TarefaSelecionada}"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      SelectionMode="Single"
                      Margin="5"
                      FontSize="14"
                      HeadersVisibility="Column"
                      GridLinesVisibility="None"
                      RowBackground="White"
                      AlternatingRowBackground="#F2F3F4"
                      BorderThickness="0">

                <DataGrid.Resources>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#566573"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="Padding" Value="10,5"/>
                    </Style>
                </DataGrid.Resources>

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Título" Binding="{Binding Titulo}" Width="2*" />
                    <DataGridTextColumn Header="Data Início" Binding="{Binding DataInicio, StringFormat=dd/MM/yyyy}" Width="*" />
                    <DataGridTextColumn Header="Data Término" Binding="{Binding DataTermino, StringFormat=dd/MM/yyyy}" Width="*" />
                    <DataGridTextColumn Header="Peso (%)" Binding="{Binding Peso}" Width="100" />
                </DataGrid.Columns>
            </DataGrid>
        </Border>
    </DockPanel>
</Window>
