<Window x:Class="GestoDocente.Views.NotasView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Atribuição de Notas"
        Width="650" Height="750"
        WindowStartupLocation="CenterScreen"
        Background="#F9F9F9"
        FontFamily="Segoe UI"
        Opacity="0">

    <!-- Fade-In -->
    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard>
                <Storyboard>
                    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                     From="0" To="1" Duration="0:0:0.4"
                                     AccelerationRatio="0.2" DecelerationRatio="0.8"/>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </Window.Triggers>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="30" Orientation="Vertical" HorizontalAlignment="Stretch" Width="Auto">

            <!-- Botão Voltar -->
            <Button Width="200" Height="45" HorizontalAlignment="Left"
                    Click="VoltarMenu_Click" Cursor="Hand"
                    Style="{StaticResource CancelButton}"
                    Margin="0,0,0,20"
                    Content="🏠 Voltar ao Menu"/>

            <!-- Painel de Grupos -->
            <Border BorderBrush="#D3D3D3" BorderThickness="1" CornerRadius="10" Padding="20" Margin="0,0,0,20" Background="White">
                <StackPanel>
                    <TextBlock Text="🔍 Pesquisar Grupo" FontWeight="Bold" FontSize="14" Margin="0,0,0,5"/>
                    <TextBox Text="{Binding PesquisaGrupo, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,10" />

                    <TextBlock Text="📂 Grupos Disponíveis" FontWeight="Bold" FontSize="14" Margin="0,10,0,5"/>
                    <ListBox ItemsSource="{Binding GruposFiltrados}" 
                             SelectedItem="{Binding GrupoSelecionado}" 
                             DisplayMemberPath="Nome" Height="100"
                             Background="White" BorderBrush="#D5DBDB" />
                </StackPanel>
            </Border>

            <!-- Nota do Grupo -->
            <Border BorderBrush="#D3D3D3" BorderThickness="1" CornerRadius="10" Padding="20" Margin="0,0,0,20" Background="White">
                <StackPanel>
                    <TextBlock Text="📝 Selecionar Tarefa" FontWeight="Bold" FontSize="14" Margin="0,0,0,5"/>
                    <ComboBox ItemsSource="{Binding Tarefas}" 
                              SelectedItem="{Binding TarefaSelecionada}" 
                              DisplayMemberPath="Titulo"
                              Height="30" Margin="0,0,0,10"/>

                    <TextBlock Text="📌 Nota para o Grupo" FontWeight="Bold" FontSize="14"/>
                    <TextBox Text="{Binding NotaGrupo, UpdateSourceTrigger=PropertyChanged}" Width="100" Margin="0,0,0,10"/>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                        <Button Content="✅ Atualizar Nota" 
                                Command="{Binding AtualizarNotaGrupoCommand}"
                                Style="{StaticResource ModernButton}"
                                Margin="0,0,10,0" Width="140" Height="35" />
                        <Button Content="🗑️ Remover Nota" 
                                Command="{Binding RemoverNotaGrupoCommand}" 
                                Style="{StaticResource CancelButton}"
                                Width="140" Height="35"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Nota Individual -->
            <Border BorderBrush="#D3D3D3" BorderThickness="1" CornerRadius="10" Padding="20" Margin="0,0,0,20" Background="White">
                <StackPanel>
                    <TextBlock Text="👤 Selecionar Aluno" FontWeight="Bold" FontSize="14" Margin="0,0,0,5"/>
                    <ComboBox ItemsSource="{Binding AlunosDoGrupo}"
                              SelectedItem="{Binding AlunoSelecionado}" 
                              DisplayMemberPath="Nome"
                              Height="30" Margin="0,0,0,10"/>

                    <TextBlock Text="📝 Nota Individual" FontWeight="Bold" FontSize="14"/>
                    <TextBox Text="{Binding NotaIndividual, UpdateSourceTrigger=PropertyChanged}" Width="100" Margin="0,0,0,10"/>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                        <Button Content="✅ Atualizar Nota" 
                                Command="{Binding AtualizarNotaIndividualCommand}"
                                Style="{StaticResource ModernButton}"
                                Margin="0,0,10,0" Width="140" Height="35"/>
                        <Button Content="🗑️ Remover Nota" 
                                Command="{Binding RemoverNotaIndividualCommand}" 
                                Style="{StaticResource CancelButton}"
                                Width="140" Height="35"/>
                    </StackPanel>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</Window>
